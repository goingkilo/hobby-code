<!DOCTYPE html>
<html>
<style>
	.fdiv {
		color: #FFF;
		background : #00f;
		font-size: 18px;
		margin: 10px;
	}
	.bttxt {
		color: #FFF;
	 	font-size: 11px;
		margin: 10px;
	}
</style> 
<script src="jquery-1.9.1.min.js"></script>
<script>
yang = function ( x, y, w, h, ctx) {
	ctx.fillRect(x,y, w,h);
};

yin = function ( x, y, w, h, ctx) {
  
	ctx.fillRect(x, y, w/3, h);
	ctx.fillRect(x + 2*w/3, y, w/3,h);
};


toss = function(){if  ( Math.random() > 0.5 ) return 3 ; else return 2;}

genhex = function () {  

 	ret = [];   

	for(var x = 0;  x < 6 ; x ++)    {        
		sum = 0;        
		sum += toss();        
		sum+= toss();        
		sum += toss();        
		ret.push(sum);              
	}    

	return ret;
};   

linefunction = { 6:yin ,7 : yang ,8 : yin ,9 : yang }

function drawhex( x, y,  lwidth, lheight, lgap, loffset, canvasid ){

	var c=document.getElementById(canvasid );
	var ctx=c.getContext("2d");
	var afont = "18px Arial";

	
	var lines = genhex();

	for( var i = 0 ; i < lines.length ; i++) {
		if( i > 2 ) {
			loffset = 10;	
		}
		console.log( i + "," + loffset);
		linefunction[lines[i]]( x, y + (lgap +lheight)*i + loffset, lwidth, lheight, ctx);
	} 
}
 
lwidth = 100;
lheight = 20;
lgap = 5;
loffset = 0;

drawhex(100,70,lwidth, lheight, lgap, loffset,'canvas1');
 
</script>

<script>
	$(document).ready( function() 
		{
			drawhex(100,70,lwidth, lheight, lgap, loffset,'canvas1');

		});
</script>

<body>


	<div class="fdiv">
		<span>Angleton</span>
	</div>
	<div align="center">
		<tr>
			<td>
				<canvas id="canvas1" width="300" height="300"  style="border:1px solid #00F;"  >
				Your browser does not support the HTML5 canvas tag.
		 		</canvas>
			</td>
			<td>
				<b> Chien </b><i>  thunder</i>
  			</td>
 		</tr>

	 
	</div>
	<div class="fdiv"  align="center">
		<span class="bttxt">Refresh for a new Hexagram</span>
	</div>

</body>
</html>
